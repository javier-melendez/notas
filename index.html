<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calificaciones de Estudiantes</title>
  <!-- Enlaza el CDN de Tailwind para usar sus clases -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Estilos personalizados para el √≠cono de expandir/contraer */
    .toggle-icon {
      transition: transform 0.3s ease;
    }
    .toggle-icon.rotated {
      transform: rotate(45deg); /* Gira 45 grados para simular un '-' */
    }
  </style>
</head>
<body class="bg-gray-100 flex items-center justify-center p-4 min-h-screen font-sans antialiased">
  
  <div class="bg-white rounded-lg shadow-2xl p-6 w-full max-w-xl mx-auto">
    <h1 class="text-2xl font-bold text-center text-gray-800 mb-6">Calificaciones CIM2025 üßë‚Äçüéì</h1>
    
    <!-- Contenedor para la lista colapsable -->
    <div id="student-list" class="space-y-4">
      <!-- Los estudiantes se generar√°n aqu√≠ con JavaScript -->
    </div>
  </div>

  <script>
    // Datos del DataFrame, convertidos a una estructura de JavaScript
    const data = {
        "Estudiante": [
            "CHAYA OCHOA, LUISA FERNANDA",
            "GAMEZ CASTRO, CAMILA",
            "GUTIERREZ CORTES, LAURA SOFIA",
            "HERN√ÅNDEZ PUENTES, GABRIEL ALEJANDRO",
            "MENDEZ CARDENAS, INGRID KATHERINE",
            "RODRIGUEZ PARDO, LAURA JULIANA",
            "ROMERO VARGAS, JUAN DAVID",
            "S√ÅNCHEZ CEBALLOS, LAURA VALENTINA",
            "SERRANO COTRINA, STEFANYA",
            "VERA OTERO, MARIA ISABEL",
            "ALEKZA VALENTINA CARRERO MELO",
            "MAR√çA SOF√çA MATHIASEN OBANDO",
            "FRANCO HERRE√ëO, ALEJANDRO"
        ],
        "Entrega Github": [2.5, 2.5, 4.25, 3.5, 4.5, 5, 3.5, 0, 2.5, 2.5, 5, 3.5, 5],
        "Collage": [5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 3.5],
        "Grupo": [4.5, 4.5, 4.5, 5, 4.5, 4.5, 5, 5, 4.5, 4.5, 4.5, 5, 3.5]
    };

    const studentList = document.getElementById('student-list');
    const numStudents = data.Estudiante.length;

    for (let i = 0; i < numStudents; i++) {
      const studentName = data.Estudiante[i];
      const githubGrade = data['Entrega Github'][i];
      const collageGrade = data.Collage[i];
      const groupGrade = data.Grupo[i];
      const partialGrade = (githubGrade * 0.4 + collageGrade * 0.4 + groupGrade * 0.2).toFixed(2);

      // Crear el contenedor de cada estudiante
      const studentContainer = document.createElement('div');
      studentContainer.className = 'bg-white rounded-lg shadow-md overflow-hidden';

      // Crear el encabezado expandible
      const header = document.createElement('div');
      header.className = 'flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50 transition-colors duration-200';
      header.innerHTML = `
        <span class="font-bold text-gray-800 text-sm md:text-base">${studentName}</span>
        <span class="toggle-icon text-xl text-gray-500 font-light">+</span>
      `;
      studentContainer.appendChild(header);

      // Crear el contenedor para el detalle de las notas, oculto por defecto
      const details = document.createElement('div');
      details.className = 'p-4 border-t border-gray-200 hidden';
      details.innerHTML = `
        <div class="space-y-2 text-sm text-gray-600">
          <p>
            <span class="font-semibold text-gray-800">Entrega Github:</span> ${githubGrade}
            <span class="text-xs text-gray-500">(40%)</span>
          </p>
          <p>
            <span class="font-semibold text-gray-800">Collage:</span> ${collageGrade}
            <span class="text-xs text-gray-500">(40%)</span>
          </p>
          <p>
            <span class="font-semibold text-gray-800">Grupo:</span> ${groupGrade}
            <span class="text-xs text-gray-500">(20%)</span>
          </p>
          <hr class="my-2 border-gray-200" />
          <p class="text-base font-bold text-gray-900">
            Parcial: ${partialGrade}
            <span class="text-sm font-normal text-gray-500">(25% total)</span>
          </p>
        </div>
      `;
      studentContainer.appendChild(details);

      // Agregar el evento de clic para expandir/contraer
      header.addEventListener('click', () => {
        details.classList.toggle('hidden');
        const icon = header.querySelector('.toggle-icon');
        icon.classList.toggle('rotated');
      });

      studentList.appendChild(studentContainer);
    }
  </script>

</body>
</html>
